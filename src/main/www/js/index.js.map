{"version":3,"file":"index.js","sources":["radio.js"],"sourcesContent":["class Broadcast {\n    constructor(broadcast) {\n        this.id = broadcast.id;\n        this.name = broadcast.name;\n        this.episodes = new Map();\n        broadcast.episodes.forEach((episode) => {\n            this.episodes.set(Number(episode.id), new Episode(episode));\n        });\n    }\n}\nclass Episode {\n    constructor(episode) {\n        this.id = Number(episode.id);\n        this.title = episode.title;\n        this.date = new Date(Date.parse(episode.date));\n        this.songs = [];\n        episode.songs.forEach(entry => {\n            entry.forEach(song => this.songs.push(new Song(song)));\n        });\n    }\n    get dateString() {\n        return this.date.getUTCDay() + \".\" + this.date.getUTCMonth() + \".\" + this.date.getUTCFullYear();\n    }\n}\nclass Song {\n    constructor(song) {\n        this.title = song.title;\n        this.performer = song.performer;\n    }\n}\nclass Radio extends HTMLElement {\n    constructor() {\n        super();\n        console.log(\"Song\");\n    }\n    connectedCallback() {\n        // this.renderSonglist();\n        this.renderBroadcast();\n    }\n    renderSonglist() {\n        this.insertAdjacentHTML(\"afterbegin\", `<table class=\"table\"><tbody></tbody></table>`);\n        this.getSongs().then(songs => {\n            const tbody = this.querySelector(\"table>tbody\");\n            songs.forEach(measuring => {\n                tbody.insertAdjacentHTML(\"beforeend\", `<tr><td>${measuring.title}</td><td>${measuring.performer}</td></tr>`);\n            });\n        });\n    }\n    renderBroadcast() {\n        this.insertAdjacentHTML(\"afterbegin\", `<div class=\"form-group\">\n<label>Songliste vom ...\n<select class=\"form-control\"><option>Datum ausw√§hlen</option></select></label></div>\n<table class=\"table\"><thead>\n  <tr>\n    <th>Song</th>\n    <th>Interpret</th>\n  </tr></thead><tbody></tbody></table>`);\n        this.getBroadcast(\"json/zwwdp.json\").then(broadcast => {\n            const select = this.querySelector(\"select\");\n            select.addEventListener(\"change\", (event) => {\n                const optionalParams = event.currentTarget;\n                console.log(\"test %o\", optionalParams);\n                console.log(\"test %o\", optionalParams.value);\n                const table = this.querySelector(\"tbody\");\n                table.innerHTML = \"\";\n                const id = Number(optionalParams.value);\n                if (id) {\n                    const episode = broadcast.episodes.get(id);\n                    episode.songs.forEach(song => {\n                        table.insertAdjacentHTML(\"beforeend\", `<tr><td>${song.title}</td><td>${song.performer}</td></tr>`);\n                    });\n                }\n            });\n            broadcast.episodes.forEach(episode => {\n                select.insertAdjacentHTML(\"beforeend\", `<option value=\"${episode.id}\">${episode.dateString} (${episode.songs.length} Titel)</td></option>`);\n            });\n        });\n    }\n    getSongs() {\n        return window.fetch(\"json/songs.json\")\n            .then(response => response.json())\n            .then((json) => json.map((song) => new Song(song)));\n    }\n    getBroadcast(location) {\n        return window.fetch(location)\n            .then(response => response.json())\n            .then((json) => new Broadcast(json));\n    }\n}\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    window.customElements.define(\"radio-songs\", Radio);\n});\n"],"names":[],"mappings":"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"}